CREATE DATABASE IF NOT EXISTS ecommerceapp DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci;
USE ecommerceapp;

DROP TABLE IF EXISTS PRODUCT;
CREATE TABLE PRODUCT (
    ID CHAR(10) NOT NULL,
    NAME VARCHAR(1000) NOT NULL,
    DESCRIPTION VARCHAR(2000),
    PRIMARY KEY(ID),
    PRIICE INT(10) NOT NULL
);

DROP TABLE IF EXISTS USERS;
CREATE TABLE USERS (
    USERNAME VARCHAR(100) NOT NULL,
    EMAIL VARCHAR(100) NOT NULL,
    PASSWORD BLOB,
    PRIMARY KEY(USERNAME)
);

DROP TABLE IF EXISTS DOCTOR;
CREATE TABLE DOCTOR (
    ID VARCHAR(12) NOT NULL,
    NAME VARCHAR(1000) NOT NULL,
    DESCRIPTION VARCHAR(2000) NOT NULL,
    IMG VARCHAR(1000) NOT NULL,
    PRIMARY KEY(ID)
);

DROP TABLE IF EXISTS ORDERS;
CREATE TABLE ORDERS (
    NUM INT AUTO_INCREMENT NOT NULL,
    O_DATE DATETIME NOT NULL,
    PRODUCT_ID CHAR(10),
    USERNAME VARCHAR(100),
    PRIMARY KEY(NUM),
    FOREIGN KEY(PRODUCT_ID) REFERENCES PRODUCT(ID),
    FOREIGN KEY(USERNAME) REFERENCES USERS(USERNAME)
);
